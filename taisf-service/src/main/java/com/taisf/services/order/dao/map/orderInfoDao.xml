<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="order.orderInfoDao" >

    <resultMap id="BaseResultMap" type="com.taisf.services.order.vo.OrderInfoVO">
        <!-- map -->
        <id column="id" jdbcType="INTEGER" property="id" />
        <result column="order_sn" jdbcType="VARCHAR" property="orderSn" />
        <result column="title" jdbcType="VARCHAR" property="title" />
        <result column="province_code" jdbcType="VARCHAR" property="provinceCode" />
        <result column="area_code" jdbcType="VARCHAR" property="areaCode" />
        <result column="city_code" jdbcType="VARCHAR" property="cityCode" />
        <result column="address_fid" jdbcType="VARCHAR" property="addressFid" />
        <result column="order_source" jdbcType="TINYINT" property="orderSource" />
        <result column="order_status" jdbcType="TINYINT" property="orderStatus" />
        <result column="accounts_status" jdbcType="TINYINT" property="accountsStatus" />
        <result column="pay_status" jdbcType="TINYINT" property="payStatus" />
        <result column="eva_status" jdbcType="TINYINT" property="evaStatus" />
        <result column="business_uid" jdbcType="VARCHAR" property="businessUid" />
        <result column="user_uid" jdbcType="VARCHAR" property="userUid" />
        <result column="user_tel" jdbcType="VARCHAR" property="userTel" />
        <result column="user_name" jdbcType="VARCHAR" property="userName" />
        <result column="pay_time" jdbcType="TIMESTAMP" property="payTime" />
        <result column="send_time" jdbcType="TIMESTAMP" property="sendTime" />
        <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
        <result column="last_modify_date" jdbcType="TIMESTAMP" property="lastModifyDate" />
        <result column="mark" jdbcType="VARCHAR" property="mark" />

        <result column="sum_money" property="sumMoney" jdbcType="INTEGER" />
        <result column="coupon_money" property="couponMoney" jdbcType="INTEGER" />
        <result column="discount_money" property="discountMoney" jdbcType="INTEGER" />
        <result column="red_money" property="redMoney" jdbcType="INTEGER" />
        <result column="need_pay" property="needPay" jdbcType="INTEGER" />
        <result column="pay_balance" property="payBalance" jdbcType="INTEGER" />
        <result column="carry_money" property="carryMoney" jdbcType="INTEGER" />

    </resultMap>


    <sql id="Base_Column_List">
        <!--  -->
        t.id, t.order_sn,t.title, t.province_code,t.area_code, t.city_code,t.address_fid, t.order_source,t.eva_status, t.order_status, t.accounts_status,
        t.pay_status, t.business_uid, t.user_uid, t.user_tel, t.user_name,
        t.send_time, t.pay_time,t.create_time, t.last_modify_date, t.mark,
        m.sum_money, m.coupon_money, m.discount_money,m.red_money, m.need_pay, m.pay_money, m.pay_balance, m.carry_money

    </sql>


    <!-- 获取订单列表的信息 -->
    <select id="getOrderInfo" resultMap="BaseResultMap" parameterType="com.taisf.services.order.dto.OrderInfoRequest" >
        SELECT
        <include refid="Base_Column_List" />
        FROM t_order t
          INNER join t_order_money m on  t.order_sn = m.order_sn
        WHERE  t.user_uid = #{userUid,jdbcType=VARCHAR}
    </select>


</mapper>
