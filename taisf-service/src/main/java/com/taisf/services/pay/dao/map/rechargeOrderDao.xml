<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="pay.rechargeOrderDao" >

    <resultMap id="BaseResultMap" type="com.taisf.services.pay.entity.RechargeOrderEntity" >
      <id column="id" property="id" jdbcType="INTEGER" />
      <result column="order_sn" property="orderSn" jdbcType="VARCHAR" />
      <result column="pay_type" property="payType" jdbcType="INTEGER" />
      <result column="total_fee" property="totalFee" jdbcType="INTEGER" />
      <result column="need_money" property="needMoney" jdbcType="INTEGER" />
      <result column="trade_no" property="tradeNo" jdbcType="VARCHAR" />
      <result column="pay_time" property="payTime" jdbcType="TIMESTAMP" />
      <result column="accounts_status" property="accountsStatus" jdbcType="INTEGER" />
      <result column="pay_status" property="payStatus" jdbcType="INTEGER" />
      <result column="enterprise_code" property="enterpriseCode" jdbcType="VARCHAR" />
      <result column="supplier_code" property="supplierCode" jdbcType="VARCHAR" />
      <result column="user_uid" property="userUid" jdbcType="VARCHAR" />
      <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
      <result column="last_modify_date" property="lastModifyDate" jdbcType="TIMESTAMP" />
    </resultMap>

    <sql id="Base_Column_List" >
      id, order_sn, pay_type,  total_fee, need_money, trade_no, pay_time, accounts_status,
      pay_status, enterprise_code, supplier_code, user_uid, create_time, last_modify_date
    </sql>

    <select id="getRechargeOrderByOrderSn" resultMap="BaseResultMap" parameterType="java.lang.String" >
      select
      <include refid="Base_Column_List" />
      from t_recharge_order
      where order_sn = #{orderSn,jdbcType=INTEGER}
    </select>



    <insert id="saveRechargeOrder" parameterType="com.taisf.services.pay.entity.RechargeOrderEntity" >
      insert into t_recharge_order
      <trim prefix="(" suffix=")" suffixOverrides="," >

        <if test="orderSn != null" >
          order_sn,
        </if>
        <if test="payType != null" >
          pay_type,
        </if>

        <if test="totalFee != null" >
          total_fee,
        </if>
        <if test="needMoney != null" >
          need_money,
        </if>
        <if test="tradeNo != null" >
          trade_no,
        </if>
        <if test="payTime != null" >
          pay_time,
        </if>
        <if test="accountsStatus != null" >
          accounts_status,
        </if>
        <if test="payStatus != null" >
          pay_status,
        </if>
        <if test="enterpriseCode != null" >
          enterprise_code,
        </if>
        <if test="supplierCode != null" >
          supplier_code,
        </if>
        <if test="userUid != null" >
          user_uid,
        </if>
        <if test="createTime != null" >
          create_time,
        </if>
        <if test="lastModifyDate != null" >
          last_modify_date,
        </if>
      </trim>
      <trim prefix="values (" suffix=")" suffixOverrides="," >

        <if test="orderSn != null" >
          #{orderSn,jdbcType=VARCHAR},
        </if>
        <if test="payType != null" >
          #{payType,jdbcType=INTEGER},
        </if>

        <if test="totalFee != null" >
          #{totalFee,jdbcType=INTEGER},
        </if>
        <if test="needMoney != null" >
          #{needMoney,jdbcType=INTEGER},
        </if>
        <if test="tradeNo != null" >
          #{tradeNo,jdbcType=VARCHAR},
        </if>
        <if test="payTime != null" >
          #{payTime,jdbcType=TIMESTAMP},
        </if>
        <if test="accountsStatus != null" >
          #{accountsStatus,jdbcType=INTEGER},
        </if>
        <if test="payStatus != null" >
          #{payStatus,jdbcType=INTEGER},
        </if>
        <if test="enterpriseCode != null" >
          #{enterpriseCode,jdbcType=VARCHAR},
        </if>
        <if test="supplierCode != null" >
          #{supplierCode,jdbcType=VARCHAR},
        </if>
        <if test="userUid != null" >
          #{userUid,jdbcType=VARCHAR},
        </if>
        <if test="createTime != null" >
          #{createTime,jdbcType=TIMESTAMP},
        </if>
        <if test="lastModifyDate != null" >
          #{lastModifyDate,jdbcType=TIMESTAMP},
        </if>
      </trim>
    </insert>


    <update id="updateRechargeOrder" parameterType="com.taisf.services.pay.entity.RechargeOrderEntity" >
      update t_recharge_order
      <set >

        <if test="payType != null" >
          pay_type = #{payType,jdbcType=INTEGER},
        </if>

        <if test="totalFee != null" >
          total_fee = #{totalFee,jdbcType=INTEGER},
        </if>
        <if test="needMoney != null" >
          need_money = #{needMoney,jdbcType=INTEGER},
        </if>
        <if test="tradeNo != null" >
          trade_no = #{tradeNo,jdbcType=VARCHAR},
        </if>
        <if test="payTime != null" >
          pay_time = #{payTime,jdbcType=TIMESTAMP},
        </if>
        <if test="accountsStatus != null" >
          accounts_status = #{accountsStatus,jdbcType=INTEGER},
        </if>
        <if test="payStatus != null" >
          pay_status = #{payStatus,jdbcType=INTEGER},
        </if>
        <if test="enterpriseCode != null" >
          enterprise_code = #{enterpriseCode,jdbcType=VARCHAR},
        </if>
        <if test="supplierCode != null" >
          supplier_code = #{supplierCode,jdbcType=VARCHAR},
        </if>
        <if test="userUid != null" >
          user_uid = #{userUid,jdbcType=VARCHAR},
        </if>
        <if test="createTime != null" >
          create_time = #{createTime,jdbcType=TIMESTAMP},
        </if>
        <if test="lastModifyDate != null" >
          last_modify_date = #{lastModifyDate,jdbcType=TIMESTAMP},
        </if>
      </set>
      where  order_sn = #{orderSn,jdbcType=VARCHAR}  and trade_no is  null
    </update>

</mapper>